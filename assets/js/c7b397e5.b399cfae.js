"use strict";(self.webpackChunkthis_is_angular_guides=self.webpackChunkthis_is_angular_guides||[]).push([[6931],{1345:function(e,n,t){t.r(n),t.d(n,{assets:function(){return d},contentTitle:function(){return s},default:function(){return m},frontMatter:function(){return l},metadata:function(){return c},toc:function(){return u}});var r=t(3117),a=t(102),i=(t(7294),t(3905)),o=["components"],l={contributors:"Andrew Evans, Nikita Poltoratsky"},s="Angular's dependency injection system",c={unversionedId:"fundamentals/angulars-dependency-injection-system",id:"fundamentals/angulars-dependency-injection-system",title:"Angular's dependency injection system",description:"Suggested topics",source:"@site/docs/fundamentals/angulars-dependency-injection-system.md",sourceDirName:"fundamentals",slug:"/fundamentals/angulars-dependency-injection-system",permalink:"/angular-guides/docs/fundamentals/angulars-dependency-injection-system",draft:!1,editUrl:"https://github.com/this-is-angular/angular-guides/edit/main/docs/fundamentals/angulars-dependency-injection-system.md",tags:[],version:"current",frontMatter:{contributors:"Andrew Evans, Nikita Poltoratsky"},sidebar:"guidesSidebar",previous:{title:"Angular templates",permalink:"/angular-guides/docs/fundamentals/angular-templates"},next:{title:"Build an Angular project that supports experimental Ivy APIs",permalink:"/angular-guides/docs/fundamentals/build-an-angular-project-that-supports-experimental-ivy-apis"}},d={},u=[{value:"Suggested topics",id:"suggested-topics",level:2},{value:"Related topics",id:"related-topics",level:2},{value:"What is Dependency Injection?",id:"what-is-dependency-injection",level:3},{value:"Injectors",id:"injectors",level:3},{value:"Module Level Injectors",id:"module-level-injectors",level:3},{value:"eagerly loaded modules",id:"eagerly-loaded-modules",level:4},{value:"lazy loaded modules",id:"lazy-loaded-modules",level:4},{value:"element injectors",id:"element-injectors",level:3},{value:"constructor injectors",id:"constructor-injectors",level:3},{value:"injection done with the provider syntax",id:"injection-done-with-the-provider-syntax",level:3},{value:"injection done with tree-shakeable providers",id:"injection-done-with-tree-shakeable-providers",level:3},{value:"best practices for efficient dependency injection in Angular",id:"best-practices-for-efficient-dependency-injection-in-angular",level:3}],p={toc:u};function m(e){var n=e.components,t=(0,a.Z)(e,o);return(0,i.kt)("wrapper",(0,r.Z)({},p,t,{components:n,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"angulars-dependency-injection-system"},"Angular's dependency injection system"),(0,i.kt)("h2",{id:"suggested-topics"},"Suggested topics"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Injectors"),(0,i.kt)("li",{parentName:"ul"},"Module level injectors",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Eagerly loaded modules share an injector"),(0,i.kt)("li",{parentName:"ul"},"Lazy-loaded modules have their own injectors"))),(0,i.kt)("li",{parentName:"ul"},"Element injectors follow the component tree",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Also with content projection?"))),(0,i.kt)("li",{parentName:"ul"},"Constructor injection"),(0,i.kt)("li",{parentName:"ul"},"Module providers"),(0,i.kt)("li",{parentName:"ul"},"Dependency injection token providers"),(0,i.kt)("li",{parentName:"ul"},"Tree-shakable providers",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Dependency injection tokens"),(0,i.kt)("li",{parentName:"ul"},"Class-based services")))),(0,i.kt)("h2",{id:"related-topics"},"Related topics"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"./angular-dependencies"},"Angular dependencies")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"./class-based-angular-services"},"Class-based services")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"./angular-modules"},"Angular modules"))),(0,i.kt)("h3",{id:"what-is-dependency-injection"},"What is Dependency Injection?"),(0,i.kt)("p",null,"The concept of Dependency Injection is basically around objects relying on other object (dependencies) to accomplish tasks."),(0,i.kt)("p",null,"Dependency Injetion is when an object is able to pull in something it is dependent on (a service, a component, etc.) when it needs it. This enables you to build an architecture whereby there can be multiple objects can be shared across a system, and these objects can be instantiated or built just when necessary."),(0,i.kt)("p",null,"Angular has a ",(0,i.kt)("strong",{parentName:"p"},"dependency injection system")," that produces dependent objects when objects that rely on them are created. That sound super formal, so lets break it down in terms of Angular components and services."),(0,i.kt)("p",null,"Typically, you will have a component that relies (is dependant) upon a service. This service is going to be built and used when the component is created. This means that you (as the developer) do not need to be concerned with building out a copy of this dependency yourself. You can just create the dependency once, and then your component will pull it in when necessary. Moreover, this promotes reusability in that this same dependent object can be reused in other areas of the appliation. Angular has a very powerful ",(0,i.kt)("strong",{parentName:"p"},"injection system")," that enables you to do just this."),(0,i.kt)("h3",{id:"injectors"},"Injectors"),(0,i.kt)("p",null,"For the purposes of this guide, we are going to call ",(0,i.kt)("strong",{parentName:"p"},"injectors")," anything in your Angular application that you have setup to be injected into objects. This is typically done with the use of:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"providers: []")," array in modules"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"providedIn")," in the case of ",(0,i.kt)("inlineCode",{parentName:"li"},"tree-shakeable-components")," "),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"providedIn: 'root'"))),(0,i.kt)("p",null,"The methods used by ",(0,i.kt)("strong",{parentName:"p"},"injectors")," is also typically discussed in terms of ",(0,i.kt)("inlineCode",{parentName:"p"},"eagerly loaded")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"lazy-loaded")," modules."),(0,i.kt)("p",null,"You can also have ",(0,i.kt)("inlineCode",{parentName:"p"},"element")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"content projection")," injectors."),(0,i.kt)("p",null,"When using ",(0,i.kt)("strong",{parentName:"p"},"injectors")," they can be with ",(0,i.kt)("inlineCode",{parentName:"p"},"constructors")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"module providers"),"."),(0,i.kt)("p",null,"This all also warrents a discussion of a ",(0,i.kt)("inlineCode",{parentName:"p"},"injector")," vs a ",(0,i.kt)("inlineCode",{parentName:"p"},"provider"),". This will be worked out in the next several sections."),(0,i.kt)("h3",{id:"module-level-injectors"},"Module Level Injectors"),(0,i.kt)("h4",{id:"eagerly-loaded-modules"},"eagerly loaded modules"),(0,i.kt)("h4",{id:"lazy-loaded-modules"},"lazy loaded modules"),(0,i.kt)("h3",{id:"element-injectors"},"element injectors"),(0,i.kt)("h3",{id:"constructor-injectors"},"constructor injectors"),(0,i.kt)("h3",{id:"injection-done-with-the-provider-syntax"},"injection done with the provider syntax"),(0,i.kt)("h3",{id:"injection-done-with-tree-shakeable-providers"},"injection done with tree-shakeable providers"),(0,i.kt)("h3",{id:"best-practices-for-efficient-dependency-injection-in-angular"},"best practices for efficient dependency injection in Angular"))}m.isMDXComponent=!0},3905:function(e,n,t){t.d(n,{Zo:function(){return d},kt:function(){return m}});var r=t(7294);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var s=r.createContext({}),c=function(e){var n=r.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):o(o({},n),e)),t},d=function(e){var n=c(e.components);return r.createElement(s.Provider,{value:n},e.children)},u={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},p=r.forwardRef((function(e,n){var t=e.components,a=e.mdxType,i=e.originalType,s=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),p=c(t),m=a,h=p["".concat(s,".").concat(m)]||p[m]||u[m]||i;return t?r.createElement(h,o(o({ref:n},d),{},{components:t})):r.createElement(h,o({ref:n},d))}));function m(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var i=t.length,o=new Array(i);o[0]=p;var l={};for(var s in n)hasOwnProperty.call(n,s)&&(l[s]=n[s]);l.originalType=e,l.mdxType="string"==typeof e?e:a,o[1]=l;for(var c=2;c<i;c++)o[c]=t[c];return r.createElement.apply(null,o)}return r.createElement.apply(null,t)}p.displayName="MDXCreateElement"}}]);