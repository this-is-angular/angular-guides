"use strict";(self.webpackChunkthis_is_angular_guides=self.webpackChunkthis_is_angular_guides||[]).push([[8979],{7044:function(n,a,e){e.r(a),e.d(a,{assets:function(){return m},contentTitle:function(){return l},default:function(){return u},frontMatter:function(){return p},metadata:function(){return s},toc:function(){return d}});var t=e(3117),o=e(102),r=(e(7294),e(3905)),i=["components"],p={},l="Enabling animations in a standalone Angular application",s={unversionedId:"standalone-apis/enabling-animations-in-a-standalone-angular-application",id:"standalone-apis/enabling-animations-in-a-standalone-angular-application",title:"Enabling animations in a standalone Angular application",description:"Enabling browser animations in a standalone Angular application",source:"@site/docs/standalone-apis/enabling-animations-in-a-standalone-angular-application.md",sourceDirName:"standalone-apis",slug:"/standalone-apis/enabling-animations-in-a-standalone-angular-application",permalink:"/angular-guides/docs/standalone-apis/enabling-animations-in-a-standalone-angular-application",draft:!1,editUrl:"https://github.com/this-is-angular/angular-guides/edit/main/docs/standalone-apis/enabling-animations-in-a-standalone-angular-application.md",tags:[],version:"current",frontMatter:{},sidebar:"guidesSidebar",previous:{title:"Configuring the router using standalone features",permalink:"/angular-guides/docs/standalone-apis/configuring-the-router-using-standalone-features"},next:{title:"Exporting standalone components from Angular libraries",permalink:"/angular-guides/docs/standalone-apis/exporting-standalone-components-from-angular-libraries"}},m={},d=[{value:"Enabling browser animations in a standalone Angular application",id:"enabling-browser-animations-in-a-standalone-angular-application",level:2},{value:"Enabling browser animations in a standalone Angular application",id:"enabling-browser-animations-in-a-standalone-angular-application-1",level:2},{value:"Conditionally disable browser animations in a standalone Angular application",id:"conditionally-disable-browser-animations-in-a-standalone-angular-application",level:2}],c={toc:d};function u(n){var a=n.components,e=(0,o.Z)(n,i);return(0,r.kt)("wrapper",(0,t.Z)({},c,e,{components:a,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"enabling-animations-in-a-standalone-angular-application"},"Enabling animations in a standalone Angular application"),(0,r.kt)("h2",{id:"enabling-browser-animations-in-a-standalone-angular-application"},"Enabling browser animations in a standalone Angular application"),(0,r.kt)("p",null,"To enable browser animations in a standalone Angular application, we add the providers returned by the ",(0,r.kt)("inlineCode",{parentName:"p"},"provideAnimations")," provider factory to the ",(0,r.kt)("inlineCode",{parentName:"p"},"providers")," option for the ",(0,r.kt)("inlineCode",{parentName:"p"},"bootstrapApplication")," function:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript",metastring:'title="main.ts"',title:'"main.ts"'},'import { enableProdMode } from "@angular/core";\nimport { bootstrapApplication } from "@angular/platform-browser";\nimport { provideAnimations } from "@angular/platform-browser/animations";\n\nimport { AppComponent } from "./app/app.component";\nimport { environment } from "./environments/environment";\n\nif (environment.production) {\n  enableProdMode();\n}\n\nbootstrapApplication(AppComponent, {\n  providers: [provideAnimations()],\n}).catch((err) => console.error(err));\n')),(0,r.kt)("h2",{id:"enabling-browser-animations-in-a-standalone-angular-application-1"},"Enabling browser animations in a standalone Angular application"),(0,r.kt)("p",null,"To disable browser animations in a standalone Angular application, we add the providers returned by the ",(0,r.kt)("inlineCode",{parentName:"p"},"provideAnimations")," provider factory to the ",(0,r.kt)("inlineCode",{parentName:"p"},"providers")," option for the ",(0,r.kt)("inlineCode",{parentName:"p"},"bootstrapApplication")," function:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript",metastring:'title="main.ts"',title:'"main.ts"'},'import { enableProdMode } from "@angular/core";\nimport { bootstrapApplication } from "@angular/platform-browser";\nimport { provideNoopAnimations } from "@angular/platform-browser/animations";\n\nimport { AppComponent } from "./app/app.component";\nimport { environment } from "./environments/environment";\n\nif (environment.production) {\n  enableProdMode();\n}\n\nbootstrapApplication(AppComponent, {\n  providers: [provideNoopAnimations()],\n}).catch((err) => console.error(err));\n')),(0,r.kt)("h2",{id:"conditionally-disable-browser-animations-in-a-standalone-angular-application"},"Conditionally disable browser animations in a standalone Angular application"),(0,r.kt)("p",null,"Let's say we want to enable browser animations when the application is deployed and running but disable browser animations when our Cypress end-to-end test suites are running. We can do this by creating a custom browser animations provider factory that returns the no-op animations provider when the application is running in a Cypress context and the browser animations provider otherwise:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript",metastring:'title="provide-browser-animations.ts"',title:'"provide-browser-animations.ts"'},'import { Provider } from "@angular/core";\nimport { provideAnimations, provideNoopAnimations } from "@angular/platform-browser/animations";\n\nexport function provideBrowserAnimations(): Provider[] {\n  return "Cypress" in (window as any) ? provideNoopAnimations() : provideAnimations();\n}\n')),(0,r.kt)("p",null,"Then we add the result of calling our custom animations provider to the ",(0,r.kt)("inlineCode",{parentName:"p"},"providers")," option for the ",(0,r.kt)("inlineCode",{parentName:"p"},"bootstrapApplication")," function:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript",metastring:'title="main.ts"',title:'"main.ts"'},'import { enableProdMode } from "@angular/core";\nimport { bootstrapApplication } from "@angular/platform-browser";\n\nimport { AppComponent } from "./app/app.component";\nimport { provideBrowserAnimations } from "./app/provide-browser-animations";\nimport { environment } from "./environments/environment";\n\nif (environment.production) {\n  enableProdMode();\n}\n\nbootstrapApplication(AppComponent, {\n  providers: [provideBrowserAnimations()],\n}).catch((err) => console.error(err));\n')))}u.isMDXComponent=!0},3905:function(n,a,e){e.d(a,{Zo:function(){return m},kt:function(){return u}});var t=e(7294);function o(n,a,e){return a in n?Object.defineProperty(n,a,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[a]=e,n}function r(n,a){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(n);a&&(t=t.filter((function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable}))),e.push.apply(e,t)}return e}function i(n){for(var a=1;a<arguments.length;a++){var e=null!=arguments[a]?arguments[a]:{};a%2?r(Object(e),!0).forEach((function(a){o(n,a,e[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):r(Object(e)).forEach((function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(e,a))}))}return n}function p(n,a){if(null==n)return{};var e,t,o=function(n,a){if(null==n)return{};var e,t,o={},r=Object.keys(n);for(t=0;t<r.length;t++)e=r[t],a.indexOf(e)>=0||(o[e]=n[e]);return o}(n,a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);for(t=0;t<r.length;t++)e=r[t],a.indexOf(e)>=0||Object.prototype.propertyIsEnumerable.call(n,e)&&(o[e]=n[e])}return o}var l=t.createContext({}),s=function(n){var a=t.useContext(l),e=a;return n&&(e="function"==typeof n?n(a):i(i({},a),n)),e},m=function(n){var a=s(n.components);return t.createElement(l.Provider,{value:a},n.children)},d={inlineCode:"code",wrapper:function(n){var a=n.children;return t.createElement(t.Fragment,{},a)}},c=t.forwardRef((function(n,a){var e=n.components,o=n.mdxType,r=n.originalType,l=n.parentName,m=p(n,["components","mdxType","originalType","parentName"]),c=s(e),u=o,g=c["".concat(l,".").concat(u)]||c[u]||d[u]||r;return e?t.createElement(g,i(i({ref:a},m),{},{components:e})):t.createElement(g,i({ref:a},m))}));function u(n,a){var e=arguments,o=a&&a.mdxType;if("string"==typeof n||o){var r=e.length,i=new Array(r);i[0]=c;var p={};for(var l in a)hasOwnProperty.call(a,l)&&(p[l]=a[l]);p.originalType=n,p.mdxType="string"==typeof n?n:o,i[1]=p;for(var s=2;s<r;s++)i[s]=e[s];return t.createElement.apply(null,i)}return t.createElement.apply(null,e)}c.displayName="MDXCreateElement"}}]);